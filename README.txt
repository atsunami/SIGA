けむしきんぐ

------------*操作*-------------

1. タイトル
- Enterキーで進行
- “r”キーでStage1へ

2. ストーリー中
- Enterキーで行送り
- “右”キーでスキップ


3.ステージ内
- “z”キーでショット
- 矢印キーでそれぞれ移動
- “0”キーでステージクリア
- “u”キーでスコア加算
- “space”キーでポーズ

//以下はdisable中
- Spaceキーでアイテム所持フラグon/off
- “k”キーで(0, 200)から子グモオブジェクト出現
- “f”キーでランダムな3箇所からハエオブジェクト出現
- “d”キーで上部からランダムにダンゴムシオブジェクト出現
- “q”キーで(WIDTH/2,0)からクモオブジェクト出現
  - クモオブジェクト出現中
    * “1”キーで自機へ糸を吐く攻撃
    * “2”キーで巣を張る攻撃
- “b”キーで(WIDTH/2,0)からチョウオブジェクト出現

———————————————————————————————
ChangeLog v0.31.5.3

修正点
- ハチの体力を8に設定
- Stage1のアリの密度を調整
- タイトル開始時に暗転を追加

******************************

ChangeLog v0.31.5.2

修正点
- var0.31.5.1の不具合を解消

******************************

ChangeLog v0.31.5.1

修正点
- var0.31.5の不具合を解消
- jarファイルを同梱

不具合
- 一度ゲームオーバーになり、コンティニューして再度ゲームオーバーになると表示が崩れる

******************************

ChangeLog v0.31.5

追加点
- ゲームオーバーを実装(コンテニューペナルティ : スコア半減)

修正点
- アイテムの吸い込みタイミングを｢画面1/5より上に行ったら｣に変更
- タイトル画面暗転時に一部文字がちらつく問題を修正
- ステージ移動後に弾丸が表示されなくなる不具合に対応
  MyWorld内にstaticな弾丸初期化メソッドを設置。storyで呼び出す

不具合
- リセットしてタイトルから始め直すと、スコアがリセットされない

******************************

ChangeLog v0.31.4

追加点
- ストーリー表示用Worldを10(クリア後？)まで作成

修正点
- 使用予定のすべてのworldの設置が完了
- メモリ使用量を抑えるため各Worldの呼び出し方を変更
- Stage1へ仮配置の反映

******************************

ChangeLog v0.31.3

追加点
- ストーリー表示用World Storyクラスと各ストーリーを表示するサブクラスStory*クラスを追加

修正点
- テキスト表示中にEnterを押すことで、setSpeedを使った文字送りに対応
- MyWorldからStory0へworld遷移するように書き換え

******************************

ChangeLog v0.31.1

追加点
- ストーリー表示用World Storyクラスと各ストーリーを表示するサブクラスStory*クラスを追加

修正点
- テキスト表示中にEnterを押すことで、setSpeedを使った文字送りに対応
- MyWorldからStory0へworld遷移するように書き換え

******************************

ChangeLog v0.31

修正点
- 綴りミスの修正
  Pose -> Pause

******************************

ChangeLog v0.3

追加点
- Worldを継承したStageクラス,それを継承したStage1~Stage9クラスを作成
- Caterクラスに残機関数(life)を追加
- pose機能を追加
  この機能の追加に伴ってすべてのオブジェクトはStage.inPoseフラグがtureならばact()内が空になるように修正が必要。現在は以下のクラスが適用済み
    * StageBackgroundクラス
    * Bulletクラス
    * Caterクラス(CaterOuterクラスは適用不要)
    * Itemsクラス及びそのサブクラス


変更点
- 各ステージをWorld分割
  - MyWorldの一部のstatic関数･オブジェクトをStageクラスへ移行
  - 一部クラスのstatic関数の呼び出しを修正
  - これにともなってMyWorld.heroX,heroYを廃止。Stage.heroX,heroYに移行
- Stage(旧MyWorld)クラスとDisplayクラスで行っていた更新作業を、boolean関数を使うことでスコアが変動した時のみ動作するように変更
- ボス出現時の警告エフェクトの継続時間を短縮(250フレーム)
- EnemiesクラスhitStatusCheck()内で、周辺オブジェクト取得の際に特定のクラスのみを取得するよう変更
- StageBackgroundクラスの画像移動をsetLocation()ではなくmove()を使ったものに変更
- Bulletクラスの移動をsetLocation()ではなくmove()を使ったものに変更
- Itemsクラスの移動をsetLocation()ではなくmove()を使ったものに変更
- ステージ中に残機が表示されるように変更
- 右側に表示される情報の内、更新の少ない背景･ステージナンバーなどを1つのオブジェクトに統合して表示するように変更
- テスト用の敵オブジェクト呼び出しを廃止
- クモの糸に当たったときの減速時間を250フレームに変更
- スコアアイテムをとった時に増えるスコアをGivePoints生成時に引数として渡すように仕様変更。標準ではEnemiesクラスが持つgiveScoreが渡される。

不具合
- MyWorld開始時タイトル画面で、暗転しきった後に一瞬オブジェクトがちらつく

******************************

ChangeLog v0.2.31

修正点
- 自機が被弾した時、移動スピードをリセットするように設定
  クモの巣で減速していても、被弾すると速さが戻る。無敵中はクモの巣に引っかからない

******************************

ChangeLog v0.2.3

追加点
- Enemiesのサブクラス｢アリ(ant)｣｢ハチ(Bee)｣｢カナブン(Kanabun)｣クラスを追加

******************************

ChangeLog v0.2.27

修正点
- Enemiesクラス、EnemiesBulletクラスに自機への当たり判定を追加
- 自機に残機と無敵時間を追加
  現状は残機:6 max:6 , 無敵時間は100フレーム
  ゲームオーバーはない
- 0.2.26の不具合を修正

******************************

ChangeLog v0.2.26

追加点
- ボス戦開始エフェクトオブジェクト｢Caution｣クラスを追加
- ボス用クラス｢Boss｣を追加

修正点
- ボスエフェクト適用のためクモ,チョウのクラスをBossクラスのサブクラスに変更
- クモ,チョウのクラスにボス戦前エフェクト出現のための透明度処理、移動開始処理を追加

不具合
- ボス前の警告に自機の弾がかぶる
- 敵のたまに当たるとスコアが増える

******************************

ChangeLog v0.2.25

追加点
- 1面ボス｢チョウ(Butterfly)｣クラスをEnemies以下に追加
  基本的にスライドどおりの動きをするが、ストローの攻撃にEnemiesBulletForSpiクラスを使っているので、当たると減速処理が入る。修正の予定。行動パターンの変化は仮にhpが1/3を切った時とした。
- オブジェクト追加に伴ってテストキー操作追加

******************************

ChangeLog v0.2.242

修正点
- var0.2.242の不具合の解決
  MyWorldのreset()メソッド内でsetPaintOrder(null)を呼び出して優先順位を初期化することで解決

******************************

ChangeLog v0.2.241

修正点
- BulletForSpyクラスをBulletForSpiクラスに名称変更
- スコア表示部と蜘蛛の巣がかぶる問題を修正
  WorldクラスのsetPaintOrder(class,class…)を使うことでオブジェクトの優先順位がつけられることを発見。これを使ってstage()メソッド内の開始時処理でスコア,ステージ,それらの背景を最も手前にすることで蜘蛛の巣がかぶらないようになった。

不具合
- rキーでリセットしたあとステージに入るとスコアとステージステータスが表示されない 

******************************

ChangeLog v0.2.24
修正点
- クモ(Spider)オブジェクトの移動スクリプトを追加
  スライドのパターン1,2を実装。パターン3は結構難しそうだったから、とりあえず勝手な追加としてクモは通常時は自機を追う様に移動する。細かい移動パターン案(パターンの切り替え時の挙動とかタイミング)上がり次第修正予定。
- この変更に伴ってテスト用キー操作追加
- 同様の理由でBulletForSpyクラスにSpiderクラス呼び出し時の特殊処理を追記

不具合
- BulletForSpyクラスの名前がおかしい、ForSpiにすべき。直す。
- スコアなど表示するディスプレイと蜘蛛の巣がかぶる
  
******************************

ChangeLog v0.2.231
追加点
- 4面ボス｢クモ(Spider)｣クラスをEnemiesクラス下に作成(使用不可)

修正点
- 当たり判定調整が一段落したので以下の画像を本番用に差し替え
  クモ ダンゴムシ
- 各画像素材をimagesディレクトリ下のresourceディレクトリに配置

  images
   ┣(使う画像 .png or .jpg)
   ┗resource
     ┣(GIMPで編集できる画像群 .xcf)
     ┣originals(本番用の元ファイル .ai)
     ┗png(上の.aiを変換したもの .png)

*******************************

ChangeLog v0.2.23
修正点
- var0.2.22の当たり判定と弾丸消失の不具合に対応してv0.2.21のlist型変数を使った方式に再変更
- 変更に伴いMyWorldクラスに以下の変更
  * フィールドにstatic String[] bullestClassNameを追加。要素数はbulletsと同一
  * コンストラクタ内で各bulletClassNameを同一の要素番号のbulets.toStringで初期化する
- 同様にEnemiesクラスに以下の変更
  * コメントアウトしたlist型変数を有効化
  * v0.2.21方式に加え、hitStatusChack()内でMyWorld.bulletsClassNameを使うことで正しく衝突したbuletsクラスオブジェクトが消失するように修正

*******************************

ChangeLog v0.2.22
修正点
- 当たり判定を軽量な処理に変更
  前はエラーを吐いたのになぜかできるようになったので、isTouching()のみを使った処理に変更。敵出現時にエラーが出る場合は要報告。場合によってはtry-catchで対応。
- 当たり判定の処理に伴ってEnemiesクラスとBulletクラスからlist型変数を除去
- 同様の理由でlist型を使った処理も廃止
  * これでEnemiesクラスのインスタンス変数rangeは必須ではなくなったが、判定方法変更がありえるので念のため引数として残しておく。
- 当たり判定処理の変更に伴い一部画像の余白をカット
- 右壁際で弾が発射できない不具合を解決

不具合
- Enemiesオブジェクトのうち、EnemiesBulletクラスを使用するクラスは自身が発射した弾に被弾する
- BulletクラスのオブジェクトがEnemiesオブジェクトに当たった時、当たったオブジェクトではなく、その時WorldにあるランダムなBulletクラスオブジェクトが消失する

*******************************

ChangeLog v0.2.21
修正点
- ゲーム画面の1/6より上に行くとアイテムが自機に吸い込まれるようにItemクラスを修正
  (ぶっちゃけ東方オマージュ)
- MyWorldのコメントを修正

*******************************

ChangeLog v0.2.2
追加点
- ドロップアイテム用にItemsクラスとそのサブクラス GivePointsクラス,GiveSkillクラスを追加
  GivePointクラスは1個取るごとにスコアに1を加算(仮) GivePowerクラスは取ると必殺技(？)が発動可能
  としている。
- ｢ダンゴムシ(Dango)｣オブジェクトを追加

修正点
- テスト用の敵出現キーの変更
- 暗転/明転や文字表示など、ゲームと直接関わりがないオブジェクトを、見やすさのためSystemObjectクラス以下に配置
- Enemiesクラスの内容を大幅に修正
  * 当たり判定メソッドhitStatusCheck()の追加
  * アイテム出現メソッドputItem()の修正と、呼び出しタイミングの変更
  * isKilled変数の廃止
  * インスタンス変数の追加
    - List型 list
    - GreenfootImage型 img
- Enemiesクラス、Flyクラスにコメントを追記
  敵オブジェクトはEnemiesやFlyのコンストラクタ、act()のコピーで基本的な機能を持たせられるように修正

*******************************

ChangeLog v0.2.1
追加点
- ハエ(fly)オブジェクトの内容の追加
- 敵用弾丸オブジェクトEnemyBulletクラス,これに減速処理を加えたEnemyBulletForSpyクラスを追加
  ともにBulettクラスと同じ引数で呼び出せるが、自機への当たり判定を実装済み。
  EnemyBulletクラスは自機に当たると消滅。
  EnemyBulletForSpyクラスはそれに加えて当たると500フレーム間スピードが1になる。
- これに伴ってCaterクラスに以下を追加
  * 減速処理開始フラグ”boolean slowDown”
  * 減速処理フレームカウント”boolean slowCount”
  * slowDownをフラグとする一連の減速処理 l.23-35
- 自機の見かけの画像用オブジェクトCaterOuterクラスを追加
  Caterクラスを当たり判定に使ってしまったので、主人公の見栄えを良くするために追加
  クラス追加のついでに自機の画像サイズを縮小

修正点
- タイトル/ストーリー中に”k”を押すとクモオブジェクトが出現し停止する問題を解消

*******************************

ChangeLog v0.2

- 画面サイズを800*800に変更
- ステータスを右側拡張部に移動
- 主人公の画像を案1に差し替え
- 主人公のショットの画像を針っぽく差し替え
- Bulletクラスにコンストラクタを追加
new Bullet((int)横方向のスピード,(int)縦方向のスピード,(GreenfootImage)弾の画像)
で好きな画像、速度の弾を出現させられる。
- ｢子グモ(SpiderChild)｣｢ハエ(fly)※空っぽ｣オブジェクトを追加

特記事項
- ゲーム画面サイズが変更になったが、サイズはMyWorld.WIDTH, MyWorld.HEIGHTで取得可
- 移動するオブジェクトは横方向では(0 <= x <= 599)の範囲で動く用に設計するのが望ましい
- 主人公の座標は
	X座標 = MyWorld.hero.getX()
	Y座標 = MyWorld.hero.getY()
  でリアルタイムに取得可能。追尾には使える。
